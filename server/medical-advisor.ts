export const MEDICAL_ADVICE = {
  allergy: {
    symptoms: ["allergy", "allergic", "rash", "itch", "sneezing", "runny nose", "watery eyes"],
    advice: {
      en_IN: "You might be experiencing an allergy. Here's what you can do:\n\n1. **Identify the trigger** - Note what you were exposed to before symptoms appeared\n2. **Immediate relief**:\n   • Take antihistamines (Cetirizine, Loratadine, or Fexofenadine)\n   • Apply cool compress to itchy areas\n   • Avoid scratching\n   • Wash affected area with cold water\n3. **Environmental control**:\n   • Keep windows closed during high pollen season\n   • Use air purifiers\n   • Wash clothes and take a shower after outdoor activities\n4. **When to seek help**:\n   • If symptoms worsen or persist beyond 3-4 days\n   • If you develop difficulty breathing (call 108 immediately)\n   • If swelling affects face or throat\n5. **Prevention**:\n   • Avoid known allergens\n   • Use hypoallergenic products\n   • Keep a diary of triggers\n\nWould you like to call a doctor on 108 or notify your guardians?",
      hi_IN: "आप एलर्जी का अनुभव कर रहे हैं। यह करें:\n\n1. **ट्रिगर पहचानें** - लक्षण दिखने से पहले क्या हुआ\n2. **तुरंत राहत**:\n   • एंटीहिस्टामाइन लें\n   • प्रभावित क्षेत्र पर ठंडी पट्टी लगाएं\n   • खुजली न करें\n3. **3-4 दिन बाद भी ठीक न हो तो डॉक्टर को कॉल करें**\n4. **तुरंत 108 कॉल करें यदि सांस लेने में कठिनाई हो**"
    }
  },
  fever: {
    symptoms: ["fever", "high temperature", "body ache", "chills", "feeling hot"],
    advice: {
      en_IN: "You have a fever. Here's what to do:\n\n1. **Immediate measures**:\n   • Rest in a cool room\n   • Take paracetamol (500mg) or ibuprofen (400mg)\n   • Drink plenty of fluids - water, juice, warm tea\n   • Use a cold compress on forehead\n2. **Monitor temperature**:\n   • Check temperature every 2-4 hours\n   • If above 103°F (39.4°C), contact doctor\n3. **Care tips**:\n   • Wear light clothing\n   • Eat light, nutritious food\n   • Avoid strenuous activity\n4. **When to seek help**:\n   • Fever lasts more than 3 days\n   • Temperature exceeds 104°F (40°C)\n   • Severe headache, confusion, or difficulty breathing\n   • Call 108 for medical emergency\n5. **Prevention**:\n   • Maintain hygiene\n   • Avoid close contact with sick people\n   • Boost immunity with fruits, vegetables, vitamin C\n\nWould you like me to call emergency services or notify your guardians?",
      hi_IN: "आपको बुखार है। करें:\n\n1. **तुरंत उपाय**:\n   • ठंडे कमरे में आराम करें\n   • पैरासिटामॉल लें\n   • खूब पानी पिएं\n2. **तापमान मापें**:\n   • 104°F से ऊपर तो डॉक्टर को कॉल करें\n3. **3 दिन से ज्यादा रहे तो 108 पर कॉल करें**"
    }
  },
  headache: {
    symptoms: ["headache", "migraine", "head pain", "throbbing", "pressure in head"],
    advice: {
      en_IN: "You have a headache. Try these remedies:\n\n1. **Quick relief**:\n   • Take aspirin (300mg) or paracetamol (500mg)\n   • Drink water - dehydration is a common cause\n   • Rest in a dark, quiet room\n   • Apply warm/cold compress\n2. **Tension headache tips**:\n   • Massage neck and shoulders\n   • Do gentle stretches\n   • Take slow, deep breaths\n3. **Migraine management**:\n   • Lie down in dark room\n   • Use cold compress on forehead\n   • Take prescribed migraine medication\n   • Avoid bright lights and loud sounds\n4. **Prevention**:\n   • Stay hydrated\n   • Maintain regular sleep schedule\n   • Manage stress\n   • Limit screen time\n5. **When to seek help**:\n   • Headache is severe and sudden\n   • Accompanied by fever, stiff neck, or confusion\n   • Vision changes or weakness\n   • Call 108 for severe cases\n\nWould you like to contact a healthcare professional?",
      hi_IN: "आपको सिरदर्द है। आजमाएं:\n\n1. **तुरंत राहत**:\n   • दवाई लें (पैरासिटामॉल)\n   • पानी पिएं\n   • अंधेरे कमरे में आराम करें\n2. **थोड़ा दबाव या तनाव है तो**:\n   • गर्दन और कंधे की मालिश करें\n3. **3-4 घंटे बाद ठीक न हो तो डॉक्टर को बुलाएं**"
    }
  },
  breathing_issue: {
    symptoms: ["breathing", "shortness of breath", "asthma", "chest tight", "difficult breathing", "wheezing"],
    advice: {
      en_IN: "**BREATHING DIFFICULTY - URGENT**\n\n⚠️ If you're having severe difficulty breathing, CALL 108 IMMEDIATELY\n\n**Quick steps**:\n1. **Sit upright** - Straight back, relaxed shoulders\n2. **Breathe slowly** - In through nose (4 count), out through mouth (4 count)\n3. **Use inhaler** - If you have asthma medication, use it now\n4. **Remove tight clothing** - Loosen anything restricting your chest\n5. **Find fresh air** - Move to a well-ventilated area\n\n**When to call 108**:\n• Severe shortness of breath\n• Chest pain\n• Lips or fingernails turning blue\n• Confusion or difficulty speaking\n• Persistent wheezing\n\n**Asthma management**:\n• Keep rescue inhaler handy\n• Avoid allergens\n• Do breathing exercises daily\n• Maintain peak flow meter readings\n\n**This is a serious condition. Please seek immediate medical attention.**",
      hi_IN: "**सांस लेने में कठिनाई - तुरंत 108 कॉल करें!**\n\nयदि गंभीर कठिनाई है:\n1. सीधे बैठें\n2. धीरे-धीरे सांस लें\n3. इनहेलर का उपयोग करें (यदि है)\n4. तंग कपड़े हटाएं\n5. ताजी हवा लें\n\n**तुरंत 108 कॉल करें!**"
    }
  },
  cold: {
    symptoms: ["cold", "cough", "sore throat", "congestion", "runny nose"],
    advice: {
      en_IN: "You have a cold. Here's your recovery plan:\n\n1. **Rest and recovery**:\n   • Get 7-9 hours of sleep\n   • Avoid strenuous activities\n   • Stay home for 24-48 hours\n2. **Hydration**:\n   • Drink warm liquids - tea, soup, warm water\n   • Add honey and lemon to water\n   • Avoid caffeine and alcohol\n3. **Symptom management**:\n   • For sore throat: gargle with salt water\n   • For congestion: use saline nasal drops\n   • For cough: honey spoon or cough syrup\n4. **Nutrition**:\n   • Vitamin C: oranges, kiwi, strawberries\n   • Zinc: pumpkin seeds, almonds\n   • Protein: eggs, chicken, yogurt\n5. **Prevention for others**:\n   • Wash hands frequently\n   • Cover cough/sneeze\n   • Use separate utensils\n6. **When to see doctor**:\n   • Symptoms worsen after 5 days\n   • High fever (>101°F)\n   • Difficulty breathing\n\nMost colds resolve in 7-10 days. Drink lots of fluids!",
      hi_IN: "आपको सर्दी है। करें:\n\n1. **आराम करें** - 7-9 घंटे सोएं\n2. **गुनगुना पानी पिएं** - शहद और नींबू के साथ\n3. **खांसी के लिए** - शहद का चम्मच या दवाई\n4. **गले के लिए** - नमक के पानी से गरारे करें\n5. **फल खाएं** - सेब, संतरा, कीवी\n6. **5-7 दिन में ठीक होना चाहिए**"
    }
  },
  diarrhea: {
    symptoms: ["diarrhea", "loose stool", "stomach pain", "food poisoning", "vomiting"],
    advice: {
      en_IN: "You have diarrhea. Here's what to do:\n\n1. **Stay hydrated** (MOST IMPORTANT):\n   • ORS (Oral Rehydration Solution) - 1 packet per liter of water\n   • Coconut water\n   • Buttermilk\n   • Rice water\n   • Avoid milk, coffee, alcohol\n2. **Rest your stomach**:\n   • Start with light foods after 2 hours\n   • Bananas, rice, applesauce, toast (BRAT diet)\n   • Avoid fatty, spicy foods\n3. **Medications**:\n   • Loperamide (if needed) - Ask pharmacist\n   • Probiotics - Helps restore gut bacteria\n4. **Hygiene**:\n   • Wash hands frequently\n   • Separate from others\n   • Use different bathroom if possible\n5. **When to seek help**:\n   • Diarrhea lasts more than 3-4 days\n   • Blood in stool\n   • Severe abdominal pain\n   • Signs of severe dehydration\n   • Call 108 for emergencies\n\n**Focus on hydration - drink more than normal!**",
      hi_IN: "आपको दस्त है। करें:\n\n1. **पानी पिएं** (सबसे जरूरी):\n   • ORS घोल\n   • नारियल पानी\n   • छाछ\n2. **हल्का खाना खाएं**:\n   • केला, चावल, टोस्ट\n   • तेल-मसाले वाला खाना न खाएं\n3. **3-4 दिन बाद भी ठीक न हो तो डॉक्टर को कॉल करें**"
    }
  },
};

export function getMedicalAdvice(userMessage: string, language: string = 'en_IN'): { type: string; advice: string } | null {
  const lowerMessage = userMessage.toLowerCase();

  for (const [conditionKey, conditionData] of Object.entries(MEDICAL_ADVICE)) {
    const symptoms = (conditionData as any).symptoms || [];
    if (symptoms.some((symptom: string) => lowerMessage.includes(symptom))) {
      const advice = (conditionData as any).advice[language] || (conditionData as any).advice['en_IN'];
      return {
        type: conditionKey,
        advice: advice
      };
    }
  }

  return null;
}
